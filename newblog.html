<!DOCTYPE html>
<html>
<head>
	<title>Create New Blog Post</title>
	<link rel="stylesheet" type="text/css" href="./assets/css/newblog.css">
</head>
<body>
	<div class="header">
		<h1>Create New Blog Post</h1>
	</div>

	<div class="container">
		<form id="blogForm">
			<div>
				<label>Title</label><br>
				<input type="text" id="title" required>
			</div>
			<div>
				<label>Author</label><br>
				<input type="text" id="author" required>
			</div>
			<div>
				<label>Content</label><br>
				<textarea id="content" rows="10" cols="50" required></textarea>
			</div>
			<div>
				<label>Image</label><br>
				<input type="file" id="image" accept="image/*" required>
			</div>
			<button type="submit">Create Post</button>
		</form>
	</div>

	<script >
    const blogForm = document.querySelector('#blogForm');

blogForm.addEventListener('submit', (e) => {
	e.preventDefault();

	const title = document.querySelector('#title').value;
	const author = document.querySelector('#author').value;
	const content = document.querySelector('#content').value;
	const image = document.querySelector('#image').files[0];

	// Create a new FormData object and append form data
	const formData = new FormData();
	formData.append('title', title);
	formData.append('author', author);
	formData.append('content', content);
	formData.append('image', image);

	// Send form data to
  fetch('dashboard.html', {
  method: 'POST',
  body: formData
})
.then(response => {
  if (response.ok) {
    console.log('Data sent successfully');
    // Redirect to dashboard.html
    window.location.href = 'dashboard.html';
  } else {
    console.error('Error sending data');
  }
})
.catch(error => console.error(error));

  </script>
</body>
</html>
